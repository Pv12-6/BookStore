<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TheBookstore</title>
    <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
  integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
  />
  <link rel="stylesheet" href="../css/footer.css">
  <link rel="stylesheet" href="../css/product.css">
  <link rel="stylesheet" href="../css/header.css">
  <script src="../js/main.js" defer></script>
  <script src="../js/search.js" defer></script>
    <script src="../js/header.js" defer></script>
 

</head>
<body>

    <header class="header">
        <a href="#" class="logo">
            <img src="../images/logo.png" alt="Bookstore Logo">
        </a>

        <nav class="navbar">
            <a href="home-log.html">Trang ch·ªß</a>
            <a href="newbook-log.html">S√°ch m·ªõi</a>
            <a href="bestsaler-log.html">B√°n ch·∫°y</a>
            <a href="voucher-log.html">Khuy·∫øn m√£i</a>
            <a href="aboutus-log.html">V·ªÅ ch√∫ng t√¥i</a>
            <a href="contact-log.html">Li√™n h·ªá</a>
        </nav>
           <!-- icon t√¨m ki·∫øm -->
            <div class="search-box">
  <input type="text" placeholder="T√¨m ki·∫øm s√°ch..." id="search-input">
  <button id="search-btn"><i class="fa fa-search"></i></button>
</div><div class="user-actions">

      <!-- dropdown wrapper -->
      <div class="dropdown">
        <div class="user-info" id="userToggle">
          <img src="images/avatar.png" alt="User Avatar" class="avatar">
          <span class="username">Karra</span>
          <i class="fas fa-caret-down"></i>
        </div>

        <ul class="user-menu" id="userMenu">
          <li><a href="cart.html"><i class="fas fa-shopping-cart"></i> Gi·ªè s√°ch</a></li>
          <li><a href="orders.html"><i class="fas fa-history"></i> L·ªãch s·ª≠ mua s√°ch</a></li>
          <li><a href="account.html"><i class="fas fa-user"></i> Th√¥ng tin t√†i kho·∫£n</a></li>
          <li><a href="logout.html"><i class="fas fa-sign-out-alt"></i> ƒêƒÉng xu·∫•t</a></li>
        </ul>
      </div>
    </div>

        
    </header>
    <!-- HEADER KHI CH∆ØA LOGIN END -->
  <!-- Header mini (·∫©n l√∫c ƒë·∫ßu) -->
  <div class="mini-header">
    <a href="home-log.html">Trang ch·ªß</a>
    <a href="newbook-log.html">S√°ch m·ªõi</a>
    <a href="bestsaler-log.html">B√°n ch·∫°y</a>
    <a href="voucher-log.html">Khuy·∫øn m√£i</a>
    <a href="aboutus-log.html">V·ªÅ ch√∫ng t√¥i</a>
    <a href="contact-log.html">Li√™n h·ªá</a>
    <!-- icon t√¨m ki·∫øm -->
            <div class="search-box mini-search-box">
  <input type="text" placeholder="T√¨m ki·∫øm s√°ch..." id="mini-search-input">
  <button id="mini-search-btn"><i class="fa fa-search"></i></button>
</div>

<!-- N∆°i hi·ªÉn th·ªã k·∫øt qu·∫£ -->
<div id="search-results"></div>
    <a href="#"><i class="fas fa-user"></i></a>

    </div>
<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- ===== MAIN ===== -->
  <main>
    <section class="book-section">
      <h2>S√°ch Khuy·∫øn M√£i</h2>
      <div id="book-list" class="book-list"></div>
       <div id="pagination" class="pagination"></div>
    </section>
  </main>

   <!-- ===== FOOTER ===== -->
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-column">
          <h3>The Bookstore</h3>
          <p>ƒêem tri th·ª©c ƒë·∫øn g·∫ßn b·∫°n h∆°n m·ªói ng√†y.</p>
          <p>¬© 2025 TheBookstore</p>
        </div>
        
        <div class="footer-column">
          <h3>Li√™n h·ªá</h3>
          <p>
            Email:
            <a href="mailto:sbookstore@gmail.com">sbookstore@gmail.com</a>
          </p>
          <p>Hotline: 0869 953 312</p>
          <p>ƒê·ªãa ch·ªâ: 123 ƒê∆∞·ªùng S√°ch, Qu·∫≠n 1, TP.HCM</p>
        </div>
        
        <div class="footer-column">
          <h3>Li√™n k·∫øt nhanh</h3>
          <ul>
            <li><a href="home-log.html">Trang ch·ªß</a></li>
            <li><a href="bestsaler-log.html">B√°n ch·∫°y</a></li>
            <li><a href="newbook-log.html">S√°ch m·ªõi</a></li>
            <li><a href="voucher-log.html">Khuy·∫øn m√£i</a></li>
            <li><a href="aboutus-log.html">V·ªÅ ch√∫ng t√¥i</a></li>
            <li><a href="contact-log.html">Li√™n h·ªá</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h3>K·∫øt n·ªëi</h3>
          <div class="social-icons">
            <ul>
              <li>Facebook</li>
              <li>Instagram</li>
              <li>Tikok</li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

  <!-- ===== SCRIPT KH·ªûI T·∫†O D·ªÆ LI·ªÜU ===== -->
  <script>
    // ===== D·ªÆ LI·ªÜU CH·ªà G·ªíM S√ÅCH C√ì SALE =====
    const SachKhuyenMai = [
      { title: "ƒê·∫Øc Nh√¢n T√¢m", author: "Dale Carnegie", category: "K·ªπ nƒÉng s·ªëng", price: 75000, sale: 10, img: "../images/book1.jpg", desc: "Cu·ªën s√°ch gi√∫p b·∫°n hi·ªÉu v√† giao ti·∫øp hi·ªáu qu·∫£ h∆°n trong cu·ªôc s·ªëng." },
  { title: "Qu·∫≥ng G√°nh Lo ƒêi V√† Vui S·ªëng", author: "Dale Carnegie", category: "K·ªπ nƒÉng s·ªëng", price: 89000, sale: 15, img: "../images/book3.jpg", desc: "B√≠ quy·∫øt s·ªëng l·∫°c quan, gi·∫£m cƒÉng th·∫≥ng v√† t·∫≠n h∆∞·ªüng cu·ªôc ƒë·ªùi." },
  { title: "Tu·ªïi Tr·∫ª ƒê√°ng Gi√° Bao Nhi√™u", author: "Rosie Nguy·ªÖn", category: "Ph√°t tri·ªÉn b·∫£n th√¢n", price: 88000, sale: 20, img: "../images/book7.jpg", desc: "Truy·ªÅn c·∫£m h·ª©ng s·ªëng h·∫øt m√¨nh cho tu·ªïi tr·∫ª." },
  { title: "7 Th√≥i Quen Hi·ªáu Qu·∫£", author: "Stephen Covey", category: "Ph√°t tri·ªÉn b·∫£n th√¢n", price: 130000, sale: 10, img: "../images/book8.jpg", desc: "Nh·ªØng th√≥i quen gi√∫p b·∫°n th√†nh c√¥ng v√† h·∫°nh ph√∫c." },
  { title: "D√°m B·ªã Gh√©t", author: "Ichiro Kishimi", category: "T√¢m l√Ω h·ªçc", price: 115000, sale: 25, img: "../images/book9.jpg", desc: "Tri·∫øt l√Ω s·ªëng t·ª± do v√† h·∫°nh ph√∫c theo t∆∞ t∆∞·ªüng Adler." },
  { title: "T√¥i T·ª± H·ªçc", author: "Thu Giang Nguy·ªÖn Duy C·∫ßn", category: "K·ªπ nƒÉng s·ªëng", price: 95000, sale: 10, img: "../images/book11.jpg", desc: "Ph∆∞∆°ng ph√°p t·ª± h·ªçc ƒë·ªÉ ph√°t tri·ªÉn b·∫£n th√¢n to√†n di·ªán." },
  { title: "Kh√©o ƒÇn N√≥i S·∫Ω C√≥ ƒê∆∞·ª£c Thi√™n H·∫°", author: "Tr√°c Nh√£", category: "K·ªπ nƒÉng s·ªëng", price: 105000, sale: 15, img: "../images/book12.jpg", desc: "B√≠ quy·∫øt giao ti·∫øp th√†nh c√¥ng trong m·ªçi t√¨nh hu·ªëng." },

  // ===== Ti·ªÉu thuy·∫øt =====
  { title: "Nh√† Gi·∫£ Kim", author: "Paulo Coelho", category: "Ti·ªÉu thuy·∫øt", price: 120000, sale: 20, img: "../images/book2.jpg", desc: "H√†nh tr√¨nh ƒëi t√¨m kho b√°u v√† ∆∞·ªõc m∆° c·ªßa ch√†ng chƒÉn c·ª´u Santiago." },
  { title: "Kh√¥ng Gia ƒê√¨nh", author: "Hector Malot", category: "VƒÉn h·ªçc kinh ƒëi·ªÉn", price: 115000, sale: 10, img: "../images/book13.jpg", desc: "C√¢u chuy·ªán c·∫£m ƒë·ªông v·ªÅ c·∫≠u b√© R√©mi m·ªì c√¥i." },
  { title: "Ho√†ng T·ª≠ B√©", author: "Antoine de Saint-Exup√©ry", category: "Thi·∫øu nhi", price: 78000, sale: 10, img: "../images/book14.jpg", desc: "M·ªôt trong nh·ªØng t√°c ph·∫©m thi·∫øu nhi tri·∫øt l√Ω s√¢u s·∫Øc nh·∫•t m·ªçi th·ªùi." },
  { title: "B·ªë Gi√†", author: "Mario Puzo", category: "Ti·ªÉu thuy·∫øt", price: 175000, sale: 15, img: "../images/book15.jpg", desc: "C√¢u chuy·ªán v·ªÅ gia t·ªôc mafia Corleone l·ª´ng danh." },
  { title: "T√¥i Th·∫•y Hoa V√†ng Tr√™n C·ªè Xanh", author: "Nguy·ªÖn Nh·∫≠t √Ånh", category: "VƒÉn h·ªçc Vi·ªát Nam", price: 98000, sale: 10, img: "../images/book16.jpg", desc: "M·ªôt b·ª©c tranh tu·ªïi th∆° trong s√°ng v√† ƒë·∫ßy c·∫£m x√∫c." },
  { title: "C√¥ G√°i ƒê·∫øn T·ª´ H√¥m Qua", author: "Nguy·ªÖn Nh·∫≠t √Ånh", category: "VƒÉn h·ªçc Vi·ªát Nam", price: 88000, sale: 10, img: "../images/book17.jpg", desc: "Chuy·ªán t√¨nh h·ªçc tr√≤ nh·∫π nh√†ng, ƒë·∫ßy ho√†i ni·ªám." },
  { title: "Harry Potter V√† H√≤n ƒê√° Ph√π Th·ªßy", author: "J.K. Rowling", category: "Fantasy", price: 160000, sale: 15, img: "../images/book18.jpg", desc: "Ph·∫ßn m·ªü ƒë·∫ßu series huy·ªÅn tho·∫°i Harry Potter." },
  { title: "Harry Potter V√† Ph√≤ng Ch·ª©a B√≠ M·∫≠t", author: "J.K. Rowling", category: "Fantasy", price: 160000, sale: 10, img: "../images/book19.jpg", desc: "Nh·ªØng b√≠ ·∫©n t·∫°i Hogwarts ƒë∆∞·ª£c h√© m·ªü qua t·ª´ng ch∆∞∆°ng." },

  // ===== Kinh t·∫ø / Kinh doanh =====
  { title: "Cha Gi√†u Cha Ngh√®o", author: "Robert Kiyosaki", category: "Kinh doanh", price: 150000, sale: 20, img: "../images/book20.jpg", desc: "T∆∞ duy t√†i ch√≠nh v√† c√°ch t·∫°o d·ª±ng s·ª± gi√†u c√≥." },
  { title: "T∆∞ Duy Nhanh V√† Ch·∫≠m", author: "Daniel Kahneman", category: "Kinh t·∫ø h·ªçc h√†nh vi", price: 210000, sale: 15, img: "../images/book10.jpg", desc: "Kh√°m ph√° hai h·ªá th·ªëng t∆∞ duy v√† c√°ch con ng∆∞·ªùi ra quy·∫øt ƒë·ªãnh." },
  { title: "Ng∆∞·ªùi D√°m Cho ƒêi", author: "Bob Burg", category: "Kinh doanh", price: 95000, sale: 10, img: "../images/book5.jpg", desc: "B√†i h·ªçc kinh doanh v√† cu·ªôc s·ªëng t·ª´ l√≤ng t·ªët." },
  { title: "T·ª∑ Ph√∫ B√°n Gi√†y", author: "Tony Hsieh", category: "Kinh doanh", price: 125000, sale: 15, img: "../images/book21.jpg", desc: "C√¢u chuy·ªán kh·ªüi nghi·ªáp truy·ªÅn c·∫£m h·ª©ng c·ªßa nh√† s√°ng l·∫≠p Zappos." },
  { title: "Nh√† ƒê·∫ßu T∆∞ Th√¥ng Minh", author: "Benjamin Graham", category: "Kinh t·∫ø", price: 230000, sale: 10, img: "../images/book22.jpg", desc: "S√°ch g·ªëi ƒë·∫ßu gi∆∞·ªùng c·ªßa m·ªçi nh√† ƒë·∫ßu t∆∞ ch·ª©ng kho√°n." },
  { title: "Qu·ªëc Gia Kh·ªüi Nghi·ªáp", author: "Dan Senor & Saul Singer", category: "Kinh doanh", price: 180000, sale: 20, img: "../images/book23.jpg", desc: "Kh√°m ph√° b√≠ quy·∫øt th√†nh c√¥ng c·ªßa Israel ‚Äì qu·ªëc gia kh·ªüi nghi·ªáp." },

  // ===== T√¢m l√Ω / Tri·∫øt h·ªçc =====
  { title: "S·ª©c M·∫°nh C·ªßa Th√≥i Quen", author: "Charles Duhigg", category: "T√¢m l√Ω h·ªçc", price: 165000, sale: 15, img: "../images/book24.jpg", desc: "L√†m ch·ªß th√≥i quen ƒë·ªÉ thay ƒë·ªïi cu·ªôc s·ªëng." },
  { title: "T√¢m L√Ω H·ªçc T·ªôi Ph·∫°m", author: "Stanton E. Samenow", category: "T√¢m l√Ω h·ªçc", price: 120000, sale: 10, img: "../images/book4.jpg", desc: "Kh√°m ph√° t∆∞ duy c·ªßa t·ªôi ph·∫°m v√† h√†nh vi con ng∆∞·ªùi." },
  { title: "ƒê√°nh Th·ª©c Con Ng∆∞·ªùi Phi Th∆∞·ªùng Trong B·∫°n", author: "Tony Robbins", category: "Ph√°t tri·ªÉn b·∫£n th√¢n", price: 175000, sale: 20, img: "../images/book25.jpg", desc: "T·∫°o ƒë·ªông l·ª±c s·ªëng v√† l√†m ch·ªß cu·ªôc ƒë·ªùi." },
  { title: "S·ª©c M·∫°nh C·ªßa Hi·ªán T·∫°i", author: "Eckhart Tolle", category: "T√¢m linh", price: 135000, sale: 10, img: "../images/book26.jpg", desc: "T√¨m th·∫•y b√¨nh an trong gi√¢y ph√∫t hi·ªán t·∫°i." },
  { title: "B∆∞·ªõc Ch·∫≠m L·∫°i Gi·ªØa Th·∫ø Gian V·ªôi V√£", author: "Hae Min", category: "Tri·∫øt l√Ω s·ªëng", price: 110000, sale: 15, img: "../images/book27.jpg", desc: "Nh·ªØng suy ng·∫´m s√¢u s·∫Øc gi√∫p s·ªëng an nhi√™n h∆°n." },

  // ===== Thi·∫øu nhi / Gi√°o d·ª•c =====
  { title: "D·∫ø M√®n Phi√™u L∆∞u K√Ω", author: "T√¥ Ho√†i", category: "Thi·∫øu nhi", price: 65000, sale: 10, img: "../images/thieunhi1.jpg", desc: "H√†nh tr√¨nh phi√™u l∆∞u ƒë·∫ßy th√∫ v·ªã c·ªßa D·∫ø M√®n." },
  { title: "Kh√¥ng Gia ƒê√¨nh", author: "Hector Malot", category: "Thi·∫øu nhi", price: 115000, sale: 10, img: "../images/thieunhi2.jpg", desc: "H√†nh tr√¨nh ƒë·∫ßy ngh·ªã l·ª±c v√† c·∫£m x√∫c c·ªßa R√©mi." },
  { title: "Ch√∫ B√© Mang Pyjama S·ªçc", author: "John Boyne", category: "Thi·∫øu nhi", price: 95000, sale: 20, img: "../images/thieunhi3.jpg", desc: "C√¢u chuy·ªán c·∫£m ƒë·ªông v·ªÅ t√¨nh b·∫°n v∆∞·ª£t qua chi·∫øn tranh." },
  { title: "Totto-chan B√™n C·ª≠a S·ªï", author: "Tetsuko Kuroyanagi", category: "Thi·∫øu nhi", price: 98000, sale: 10, img: "../images/thieunhi4.jpg", desc: "M·ªôt th·∫ø gi·ªõi tr·∫ª th∆° h·ªìn nhi√™n v√† gi√°o d·ª•c nh√¢n vƒÉn." }];

// ===== H√ÄM HI·ªÇN TH·ªä S√ÅCH KHUY·∫æN M√ÉI =====
function renderSachKhuyenMai(listId, bookData) {
  const list = document.getElementById(listId);
  list.innerHTML = "";

  bookData.forEach(book => {
    const originalPrice = parseInt(String(book.price).replace(/[^\d]/g, ""));
    const salePercent = Number(book.sale) || 0;
    const salePrice = salePercent > 0 ? Math.round(originalPrice * (1 - salePercent / 100)) : originalPrice;

    const div = document.createElement("div");
    div.classList.add("book");

    div.innerHTML = `
      <div class="book-img-container">
        <img src="${book.img}" alt="${book.title}">
        ${salePercent > 0 ? `<div class="sale-tag">-${salePercent}%</div>` : ""}
      </div>
      <h4>${book.title}</h4>
      <p class="author">${book.author}</p>
      <div class="book-price">
        ${salePercent > 0
          ? `<span class="old-price">${originalPrice.toLocaleString()}‚Ç´</span>
             <span class="new-price">${salePrice.toLocaleString()}‚Ç´</span>`
          : `<span class="new-price">${originalPrice.toLocaleString()}‚Ç´</span>`}
      </div>
      <div class="book-actions">
        <button class="view"><i class="fa-solid fa-eye"></i> Xem th√¥ng tin</button>
        <button class="add"><i class="fa-solid fa-cart-plus"></i> Th√™m</button>
      </div>
    `;

    // S·ª± ki·ªán n√∫t
    div.querySelector(".view").addEventListener("click", () => {
      localStorage.setItem("selectedBook", JSON.stringify(book));
      window.location.href = "book-detail.html";
    });

    div.querySelector(".add").addEventListener("click", () => {
      alert(`ƒê√£ th√™m "${book.title}" v√†o gi·ªè h√†ng üõí`);
    });

    list.appendChild(div);
  });
}

// ===== H√ÄM T√åM KI·∫æM =====
function searchSachKhuyenMai() {
  const keyword = document.getElementById("search-input").value.toLowerCase();
  const filtered = SachKhuyenMai.filter(book =>
    book.title.toLowerCase().includes(keyword) ||
    book.author.toLowerCase().includes(keyword)
  );
  renderSachKhuyenMai("book-list", filtered);
}

// ===== G·∫ÆN S·ª∞ KI·ªÜN CHO C·∫¢ 2 THANH T√åM KI·∫æM =====
document.addEventListener("DOMContentLoaded", () => {
  renderSachKhuyenMai("book-list", SachKhuyenMai);

  // H√†m setup cho t·ª´ng thanh
  function setupSearch(inputId, btnId) {
    const input = document.getElementById(inputId);
    const btn = document.getElementById(btnId);
    if (!input || !btn) return;

    function doSearch() {
      const keyword = input.value.trim().toLowerCase();
      const filtered = SachKhuyenMai.filter(book =>
        book.title.toLowerCase().includes(keyword) ||
        book.author.toLowerCase().includes(keyword)
      );
      renderSachKhuyenMai("book-list", filtered);
    }

    btn.addEventListener("click", doSearch);
    input.addEventListener("keyup", doSearch);
  }

  // √Åp d·ª•ng cho c·∫£ header v√† mini-header
  setupSearch("search-input", "search-btn");
  setupSearch("mini-search-input", "mini-search-btn");
});

  </script>
</body>
</html>
